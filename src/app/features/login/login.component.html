@defer () {<app-header />}

<div class="row m-0 p-4">
  <div class="col-12">
    <form [formGroup]="loginForm">
      <div class="row">
        <div class="col-md-5 border mx-auto p-3 bg-light rounded">
          <h3 class="text-center color-primary">Login</h3>
          <app-input
            [fieldlabel]="'Username'"
            [fieldName]="'username'"
            [fieldType]="'text'"
            [fControl]="getFormControl(loginForm, 'username')"
          />
          <app-input
            [fieldlabel]="'Password'"
            [fieldName]="'password'"
            [fieldType]="'password'"
            [fControl]="getFormControl(loginForm, 'password')"
          />
          @if(loginError){
          <div class="text-danger mb-3">
            {{ loginError }}
          </div>
          }
          <div class="d-flex align-items-center">
            <app-button
              [btnLabel]="'Login'"
              [btnType]="'submit'"
              [classes]="'background-primary btn-auth me-1'"
              [isDisabled]="loginForm.invalid"
              (clickEvent)="onLogin($event)"
            />

            <app-button
              [btnLabel]="'Register'"
              [btnType]="'button'"
              [classes]="'btn-auth btn-sub ms-1'"
              [isDisabled]="false"
              (clickEvent)="onRegister($event)"
            />
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
